<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Site</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>
</head>
<body>
<h1>map, filter, find, reduce</h1>


<script>


// ===========================================================================================
console.log('-------- Diferencias con array --------');

const Frutas = ["banana", "manzana", "frutilla", "pera"]
// MAPEAR  Frutas :  ( no crea array de referencia)
const newArray = Frutas.map( (fruta) => fruta ) ;

Frutas.push( "sandia" );
console.log('Frutas.push( "sandia" )');


console.log( "Frutas", Frutas)
console.log("newArray devuelto x map() no devuelve una  referencia :", newArray);

/*
const copiaArray = Frutas ;

Frutas.push("sandia"); 
console.log( copiaArray);   //        <----- OJO se copia x referencia.


*/

// ---------------------------------------------------------------------------------------
console.log('\n 0. ======== ARRAY DE OBJETOS  ===========');

const usr = [
    { name : "john", age: 10 },
    { name : "Amy", age: 14 },
    { name : "Cat", age: 24 },
    { name : "lisa", age: 30 }
]

// recorrer claves-y-valores
for( let i=0 ; i< usr.length ; i++){

    //console.log('\t\t',  usr[i].name,  usr[i].age );
    console.log(`----- ${i} -----`);
    for (let [key, value] of Object.entries(usr[i])) {                        // ***** OJO
      console.log(`${key}:${value}`);                   // name:John, luego age:30
    }

}//

// ---------------------------------------------------------------------------------------



// ========== DES ESTRUCTURACION ===================================
// tenemos un array users : 
// con un for() conseguimos listar 2 propiedades.
console.log('\n =============== DE SES TRUC TU RA CION {} =============');
const users = [
    { name : "john", age: 10 },
    { name : "Amy", age: 14 },
    { name : "Cat", age: 24 },
    { name : "lisa", age: 30 }
]
console.log( '1.array users ->', users);         

console.log('\n2.=== CLAVE-VALOR ====  array users con for(users) ====');                 //
for( let i=0 ; i< users.length ; i++){

    console.log('\t\t',  users[i].name,  users[i].age );
}//



//---------------------------------------------------------------------------------
// Ahora des estructurando listamos en el mapeo con item.name...
// 
console.log('\n ------- mapear users ---------');                      //
console.log('3.    na=[{names, age}] = users.map( (user)=> {');           //
// map():
const na=[{name, age}] = users.map( (item)=> {
  
  console.log( item.name, item.age )                                //
  return ( item );                  // carga na con solo "item" .  return indispensable.
});
//console.log('5.array names', na );

//------------------------------------------------------------------------
// y con la orden for() seria   na[i].name
console.log('\n4.=== CLAVE-VALOR array -> na ====        con for( na)  =======');                 //
console.log('-------- valor procesado. +2 ');

for( let i=0 ; i< na.length ; i++){

    console.log('\t\t',  na[i].name, '\t\t', na[i].age+2  );

}//

/*
La des estructuracion al momento y scope del map() parece bienvenida por q cumple con su
proposito de ayudar en la simplificacion del codigo. console.log( item.name, item.age )   se ve
simple

pero al escanear el array resultante na con un for() no hay como evitar el acceso a un 
array y su indice entre corchetes. na[i].name    se pierde la ventaja de la desestructuracion.
Resulta igual que escanear el array user con un for()  users[i].name

El mapeo resulta util para algunas cosas como un filtrado. y con la desestr... parece ke 
se puede tener una sintaxis mas clara. ( item.name )

*/
// ðŸ˜ƒ
// ----------------------------------------------------------------------------------


// ===========================================================================================
</script>
</body>
</html>